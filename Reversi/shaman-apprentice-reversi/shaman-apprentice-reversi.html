<link rel="import" href="data-model.html" />

<script>
  (function() {
    function buildTemplate() {
      const template = document.createElement("template")
      template.content.appendChild(shamanApprenticeReversiNs.tmp.buildBoardCss())

      const board = document.createElement("div");
      board.setAttribute("class", "board")

      for (let y = 1; y <= 8; y++) {
        for (let x = 1; x <= 8; x++) {
          board.innerHTML += `
            <div class="field">
              <div class="stone" data-y="${y}" data-x="${x}">${y}-${x}</div>
              <div class="square-hack"></div>
            </div>
          `
        }
      }

      template.content.appendChild(board)
      return template
    }

    const template = buildTemplate()

    window.customElements.define("shaman-apprentice-reversi", class extends HTMLElement {
      constructor() {
        super()
        console.log(template)
        const shadowRoot = this.attachShadow({mode: "open"})
        shadowRoot.appendChild(template.content.cloneNode(true))
      }
    })
  })()
</script>